# Makefile.in for Frodo (generic Unix/X11)

## System specific configuration
@SET_MAKE@
SHELL = /bin/sh

prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
datarootdir = @datarootdir@
datadir = @datadir@

DESTDIR =

CXX = @CXX@
CFLAGS = @CFLAGS@ @GLADE_CFLAGS@ -I./
DEFS = @DEFS@ -DDATADIR=\"$(datadir)/frodo/\" -DBINDIR=\"$(bindir)/\"
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@ @GLADE_LIBS@ -lrt
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@

## Files
OBJS    = main.o Display.o Prefs.o SID.o REU.o IEC.o \
          1541fs.o 1541d64.o 1541t64.o 1541job.o SAM.o \
	  C64_SC.o CPUC64_SC.o VIC_SC.o CIA_SC.o CPU1541_SC.o \
          CPU_common.o redpill.o
SCFLAGS = 
SRCS    = main.cpp Display.cpp Prefs.cpp SID.cpp REU.cpp IEC.cpp \
          1541fs.cpp 1541d64.cpp 1541t64.cpp 1541job.cpp SAM.cpp \
          C64_SC.cpp CPUC64_SC.cpp VIC_SC.cpp CIA_SC.cpp CPU1541_SC.cpp \
          CPU_common.cpp redpill.cpp

## Rules
.PHONY: install installdirs uninstall clean distclean depend dep
.SUFFIXES:
.SUFFIXES: .o .cpp .h

all: FrodoSC

FrodoSC: $(OBJS)
	$(CXX) -o FrodoSC $(LDFLAGS) $(OBJS) $(LIBS)

install: FrodoSC installdirs
	$(INSTALL_PROGRAM) FrodoSC $(DESTDIR)$(bindir)/FrodoSC
	$(INSTALL_DATA) glade/Frodo.glade $(DESTDIR)$(datadir)/frodo/Frodo.glade
	$(INSTALL_DATA) ../Kernal\ ROM $(DESTDIR)$(datadir)/frodo/Kernal\ ROM

installdirs:
	$(SHELL) mkinstalldirs $(DESTDIR)$(bindir) $(DESTDIR)$(datadir)/frodo 

uninstall:
	rm -f $(DESTDIR)$(bindir)/FrodoSC
	rm -rf $(DESTDIR)$(datadir)/frodo

clean:
	rm -f $(OBJS)
	rm -f FrodoSC
	rm -f core* *.core *~ *.bak

distclean: clean
	rm -rf autom4te.cache
	rm -f Makefile sysconfig.h
	rm -f config.cache config.log config.status config.h

depend dep:
	makedepend $(CPPFLAGS) -Y. $(SRCS) 2>/dev/null

.cpp.o:
	$(CXX) $(DEFS) $(CFLAGS) -o $@ -c $*.cpp

C64_SC.o: C64_SC.cpp
	$(CXX) $(DEFS) $(CFLAGS) $(SCFLAGS) -o $@ -c $*.cpp

CPUC64_SC.o: CPUC64_SC.cpp
	$(CXX) $(DEFS) $(CFLAGS) $(SCFLAGS) -o $@ -c $*.cpp

CPU1541_SC.o: CPU1541_SC.cpp
	$(CXX) $(DEFS) $(CFLAGS) $(SCFLAGS) -o $@ -c $*.cpp

VIC_SC.o: VIC_SC.cpp
	$(CXX) $(DEFS) $(CFLAGS) $(SCFLAGS) -o $@ -c $*.cpp

CIA_SC.o: CIA_SC.cpp
	$(CXX) $(DEFS) $(CFLAGS) $(SCFLAGS) -o $@ -c $*.cpp

#-------------------------------------------------------------------------
# DO NOT DELETE THIS LINE -- make depend depends on it.
